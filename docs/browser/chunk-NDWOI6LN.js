import{A as c,B as m,C as _,D as fe,E as R,F as $,G as B,H as U,I as ae,J as r,K as d,L as q,M as v,N as ge,O as z,P as H,R as se,S as ve,T as Ce,U as be,V as b,W as he,X as G,Z as Ee,a as ue,aa as xe,b as le,ba as Se,c as A,ca as Y,d as V,da as Me,e as F,f as O,g as oe,h as pe,i as f,j as re,k as ie,l as w,m as j,o as L,p as I,q as i,r as u,s as E,t as x,u as de,v as ye,w as p,x as a,y as s,z as l}from"./chunk-UGXHPJCZ.js";var k=class n{placeholder=b("Buscar");value=be();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["country-search-input"]],inputs:{placeholder:[1,"placeholder"]},outputs:{value:"value"},decls:5,vars:1,consts:[["txtSearch",""],[1,"flex","flex-row","gap-2","mt-2"],["type","text","autofocus","",1,"input","input-bordered","mr-2","w-56",3,"keyup.enter","placeholder"],[1,"btn","btn-success",3,"click"]],template:function(e,o){if(e&1){let y=fe();c(0,"section",1)(1,"input",2,0),B("keyup.enter",function(){re(y);let P=ae(2);return ie(o.value.emit(P.value))}),m(),c(3,"button",3),B("click",function(){re(y);let P=ae(2);return ie(o.value.emit(P.value))}),r(4,"Buscar"),m()()}e&2&&(i(),R("placeholder",o.placeholder()))},encapsulation:2})};var De=n=>["/country/by",n],_e=(n,t)=>t.cca2;function we(n,t){if(n&1&&(a(0,"tr")(1,"td"),r(2),s(),a(3,"td"),r(4),s(),a(5,"td"),l(6,"img",2),s(),a(7,"td"),r(8),s(),a(9,"td"),r(10),s(),a(11,"td")(12,"span",3),r(13),z(14,"number"),s()(),a(15,"td")(16,"a",4),r(17,"Mas Informaci\xF3n"),s()()()),n&2){let e=t.$implicit,o=t.$index;i(2),d(o+1),i(2),d(e.flag),i(2),p("src",e.flagSvg,I)("alt",e.name),i(2),d(e.name),i(2),d(e.capital),i(3),q(" ",H(14,8,e.population)," "),i(3),p("routerLink",ge(10,De,e.cca2))}}function Le(n,t){if(n&1&&(a(0,"tr")(1,"td",5),r(2),s()()),n&2){let e=U();i(2),q(" ",e.errorMessage()," ")}}function Ie(n,t){n&1&&(a(0,"tr")(1,"td",5),r(2," No se encontraron resultados "),s()())}function Re(n,t){n&1&&(a(0,"tr")(1,"td",5),r(2," Buscando pa\xEDses... "),s()())}var S=class n{countries=b.required();errorMessage=b();isLoading=b(!1);isEmpty=b(!1);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["country-list"]],inputs:{countries:[1,"countries"],errorMessage:[1,"errorMessage"],isLoading:[1,"isLoading"],isEmpty:[1,"isEmpty"]},decls:24,vars:3,consts:[[1,"mt-5"],[1,"table","table-md","mt-2","w-full"],[1,"w-10",3,"src","alt"],[1,"badge","badge-success"],[1,"link-primary","cursor-pointer",3,"routerLink"],["colspan","8",1,"text-center"]],template:function(e,o){e&1&&(a(0,"section",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),r(5,"#"),s(),a(6,"th"),r(7,"Icono"),s(),a(8,"th"),r(9,"Bandera"),s(),a(10,"th"),r(11,"Nombre"),s(),a(12,"th"),r(13,"Capital"),s(),a(14,"th"),r(15,"Poblacion"),s(),a(16,"th"),r(17,"#"),s()()(),a(18,"tbody"),de(19,we,18,12,"tr",null,_e),E(21,Le,3,1,"tr"),E(22,Ie,3,0,"tr"),E(23,Re,3,0,"tr"),s()()()),e&2&&(i(19),ye(o.countries()),i(2),x(o.errorMessage()?21:-1),i(),x(o.countries().length===0&&!o.isLoading()?22:-1),i(),x(o.isLoading()?23:-1))},dependencies:[Y,G],encapsulation:2})};var T=class{static mapRestCountryToCountry(t){return{cca2:t.cca2,capital:t.capital?.join(", ")??"N/A",flag:t.flag,flagSvg:t.flags.svg,name:t.translations.spa.common??"No Spanish Name",population:t.population,region:t.region,subRegion:t.subregion,languages:Object.values(t.languages??{}).join(", ")||"N/A",area:t.area,continents:t.continents[0]??"N/A",maps:{googleMaps:t.maps.googleMaps,openStreetMaps:t.maps.openStreetMaps},currency:Object.values(t.currencies??{}).map(e=>`${e.name} (${e.symbol})`).join(", ")||"N/A"}}static mapRestCountryArrayToCountryArray(t){return t.map(this.mapRestCountryToCountry)}};var ce="https://restcountries.com/v3.1",M=class n{http=f(Ee);searchCapital(t){return t=t.toLocaleLowerCase(),this.http.get(`${ce}/capital/${t}`).pipe(F(e=>T.mapRestCountryArrayToCountryArray(e)),O(e=>(console.log("Error fetching",e),V(()=>new Error(`No se pudo obtener paises con ese query: ${t}`)))))}searchByCountry(t){return t=t.toLocaleLowerCase(),this.http.get(`${ce}/name/${t}`).pipe(F(e=>T.mapRestCountryArrayToCountryArray(e)),O(e=>(console.log("Error fetching",e),V(()=>new Error(`No se pudo obtener paises con ese query: ${t}`)))))}searchCountryByAlphaCode(t){return this.http.get(`${ce}/alpha/${t}`).pipe(F(e=>T.mapRestCountryArrayToCountryArray(e)),F(e=>e.at(0)),O(e=>(console.log("Error fetching",e),V(()=>new Error(`No se pudo obtener paises con ese c\xF3digo: ${t}`)))))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})};function N(n){return ve(le(ue({},n),{loader:void 0,stream:t=>{let e,o=()=>e.unsubscribe();t.abortSignal.addEventListener("abort",o);let y=L({value:void 0}),g,P=new Promise(D=>g=D);function ne(D){y.set(D),g?.(y),g=void 0}let me=n.stream??n.loader;if(me===void 0)throw new oe(990,!1);return e=me(t).subscribe({next:D=>ne({value:D}),error:D=>{ne({error:Ce(D)}),t.abortSignal.removeEventListener("abort",o)},complete:()=>{g&&ne({error:new oe(991,!1)}),t.abortSignal.removeEventListener("abort",o)}}),P}}))}var ke=()=>[],J=class n{countryService=f(M);query=L("");countryResource=N({params:()=>({query:this.query()}),stream:({params:t})=>t.query?this.countryService.searchCapital(t.query):A([])});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-by-capital-page"]],decls:2,vars:5,consts:[["placeholder","Buscar por capital",3,"value"],[3,"countries","errorMessage","isEmpty","isLoading"]],template:function(e,o){if(e&1&&(a(0,"country-search-input",0),$("value",function(g){return o.query.set(g)}),s(),l(1,"country-list",1)),e&2){let y;i(),p("countries",o.countryResource.value()??v(4,ke))("errorMessage",o.countryResource.error())("isEmpty",((y=o.countryResource.value())==null?null:y.length)===0)("isLoading",o.countryResource.isLoading())}},dependencies:[k,S],encapsulation:2})};var Te=()=>["by-capital"],Ne=()=>["by-country"],Pe=()=>["by-region"],K=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["country-top-menu"]],decls:17,vars:6,consts:[[1,"p-4","w-full"],[1,"menu","bg-base-200","sm:menu-horizontal","rounded-box"],["routerLinkActive","btn-success",1,"btn",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M22 16v-2l-8.5-5V3.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5V9L2 14v2l8.5-2.5V19L8 20.5V22l4-1l4 1v-1.5L13.5 19v-5.5z"],["fill","currentColor","d","M19.3 16.9c.4-.7.7-1.5.7-2.4c0-2.5-2-4.5-4.5-4.5S11 12 11 14.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l3.2 3.2l1.4-1.4zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5M12 20v2C6.48 22 2 17.52 2 12S6.48 2 12 2c4.84 0 8.87 3.44 9.8 8h-2.07A8 8 0 0 0 15 4.59V5c0 1.1-.9 2-2 2h-2v2c0 .55-.45 1-1 1H8v2h2v3H9l-4.79-4.79C4.08 10.79 4 11.38 4 12c0 4.41 3.59 8 8 8"],["fill","currentColor","d","m20.5 3l-.16.03L15 5.1L9 3L3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1l5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"]],template:function(e,o){e&1&&(a(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),w(),a(4,"svg",3),l(5,"path",4),s(),r(6," Por capital "),s()(),j(),a(7,"li")(8,"a",2),w(),a(9,"svg",3),l(10,"path",5),s(),r(11," Por pa\xEDs "),s()(),j(),a(12,"li")(13,"a",2),w(),a(14,"svg",3),l(15,"path",6),s(),r(16," Por regi\xF3n "),s()()()()),e&2&&(i(3),p("routerLink",v(3,Te)),i(5),p("routerLink",v(4,Ne)),i(5),p("routerLink",v(5,Pe)))},dependencies:[Y,Me],encapsulation:2})};var Q=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-country-layouts"]],decls:3,vars:0,consts:[[1,"px-4"]],template:function(e,o){e&1&&(l(0,"country-top-menu"),a(1,"section",0),l(2,"router-outlet"),s())},dependencies:[Se,K],encapsulation:2})};var Fe=()=>[],W=class n{countryService=f(M);query=L("");countryResource=N({params:()=>({query:this.query()}),stream:({params:t})=>t.query?this.countryService.searchByCountry(t.query):A([])});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-by-country-pages"]],decls:2,vars:5,consts:[["placeholder","Buscar por pa\xEDs",3,"value"],[3,"countries","errorMessage","isEmpty","isLoading"]],template:function(e,o){if(e&1&&(a(0,"country-search-input",0),$("value",function(g){return o.query.set(g)}),s(),l(1,"country-list",1)),e&2){let y;i(),p("countries",o.countryResource.value()??v(4,Fe))("errorMessage",o.countryResource.error())("isEmpty",((y=o.countryResource.value())==null?null:y.length)===0)("isLoading",o.countryResource.isLoading())}},dependencies:[S,k],encapsulation:2})};var je=()=>[],X=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["by-region-page"]],decls:1,vars:2,consts:[[3,"countries"]],template:function(e,o){e&1&&l(0,"country-list",0),e&2&&p("countries",v(1,je))},dependencies:[S],encapsulation:2})};var Z=class n{location=f(he);goBack(){this.location.back()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["not-found"]],decls:9,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","mt-10"],["xmlns","http://www.w3.org/2000/svg","width","75","height","75","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-width","2"],["stroke-linejoin","round","d","M14 19c3.771 0 5.657 0 6.828-1.172S22 14.771 22 11s0-5.657-1.172-6.828S17.771 3 14 3h-4C6.229 3 4.343 3 3.172 4.172S2 7.229 2 11s0 5.657 1.172 6.828c.653.654 1.528.943 2.828 1.07"],["d","M14 19c-1.236 0-2.598.5-3.841 1.145c-1.998 1.037-2.997 1.556-3.489 1.225s-.399-1.355-.212-3.404L6.5 17.5m3.379-8.621L12 11m0 0l2.121 2.121M12 11l2.121-2.121M12 11l-2.121 2.121"],[1,"link-primary","cursor-pointer",3,"click"]],template:function(e,o){e&1&&(c(0,"section",0),w(),c(1,"svg",1)(2,"g",2),_(3,"path",3)(4,"path",4),m()(),j(),c(5,"h1"),r(6,"No se encontr\xF3 el pa\xEDs"),m(),c(7,"a",5),B("click",function(){return o.goBack()}),r(8,"Regresar"),m()())},encapsulation:2})};var ee=class n{country=b.required();currentYear=se(()=>new Date().getFullYear());static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["country-information"]],inputs:{country:[1,"country"]},decls:48,vars:17,consts:[[1,"mx-10","mb-5"],[1,"text-3xl"],[1,"text-xl","font-thin","mt-2"],[1,"shadow","mx-5","mt-5","grid","grid-cols-4","gap-4"],[1,"stat","place-items-center","text-xs","sm:text-sm","lg:text-base","p-2","sm:p-4"],[1,"stat-title","text-xs","sm:text-sm","lg:text-lg"],[1,"stat-value","text-sm","sm:text-base","lg:text-2xl"],[1,"stat-desc","text-xs","sm:text-sm","lg:text-base"],[1,"stat-value","text-sm","sm:text-base","lg:text-2xl","text-secondary"],[1,"stat-desc","text-xs","sm:text-sm","lg:text-base","text-secondary"],[1,"stat","place-items-center","text-center","p-2","sm:p-4"],["target","_blank","rel","noopener noreferrer",1,"text-blue-600","hover:underline",3,"href"],["tabindex","0",1,"diff","aspect-16/9"],["role","img","tabindex","0",1,"diff-item-1"],[3,"alt","src"],["role","img",1,"diff-item-2"],[1,"blur","brightness75",3,"alt","src"],[1,"diff-resizer"]],template:function(e,o){e&1&&(c(0,"section",0)(1,"h1",1),r(2),m(),c(3,"h1",2),r(4),m()(),_(5,"hr"),c(6,"section",3)(7,"div",4)(8,"div",5),r(9,"Superficie total (km\xB2)"),m(),c(10,"div",6),r(11),z(12,"number"),m(),c(13,"div",7),r(14),m()(),c(15,"div",4)(16,"div",5),r(17,"Continente"),m(),c(18,"div",8),r(19),m(),c(20,"div",9),r(21),m()(),c(22,"div",4)(23,"div",5),r(24,"Lenguaje"),m(),c(25,"div",6),r(26),m(),c(27,"div",7),r(28),m()(),c(29,"div",4)(30,"div",5),r(31,"Moneda"),m(),c(32,"div",8),r(33),m(),c(34,"div",9),r(35),m()()(),c(36,"div",10)(37,"div",5),r(38,"Mapa"),m(),c(39,"div",6)(40,"a",11),r(41," Ver ubicaci\xF3n en Google Maps "),m()()(),c(42,"section",12)(43,"div",13),_(44,"img",14),m(),c(45,"div",15),_(46,"img",16),m(),_(47,"div",17),m()),e&2&&(i(2),d(o.country().name),i(2),q("Capital: ",o.country().capital),i(7),d(H(12,15,o.country().area)),i(3),d(o.currentYear()),i(5),d(o.country().continents),i(2),d(o.country().region),i(5),d(o.country().languages),i(2),d(o.country().region),i(5),d(o.country().currency),i(2),d(o.country().region),i(5),R("href",o.country().maps.googleMaps,I),i(4),R("alt",o.country().name)("src",o.country().flagSvg,I),i(2),R("alt",o.country().name)("src",o.country().flagSvg,I))},dependencies:[G],encapsulation:2,changeDetection:0})};function Be(n,t){n&1&&l(0,"not-found")}function qe(n,t){n&1&&(a(0,"h1",0),r(1,"Cargando..."),s())}function Ae(n,t){if(n&1&&l(0,"country-information",1),n&2){let e=U();p("country",e.countryResource.value())}}var te=class n{countryCode=f(xe).snapshot.params.code;countryService=f(M);countryResource=N({params:()=>({code:this.countryCode}),stream:({params:t})=>this.countryService.searchCountryByAlphaCode(t.code)});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["country-page"]],decls:3,vars:3,consts:[[1,"text-3x1"],[3,"country"]],template:function(e,o){e&1&&(E(0,Be,1,0,"not-found"),E(1,qe,2,0,"h1",0),E(2,Ae,1,1,"country-information",1)),e&2&&(x(o.countryResource.error()?0:-1),i(),x(o.countryResource.isLoading()?1:-1),i(),x(o.countryResource.hasValue()?2:-1))},dependencies:[Z,ee],encapsulation:2})};var Ve=[{path:"",component:Q,children:[{path:"by-capital",component:J},{path:"by-country",component:W},{path:"by-region",component:X},{path:"by/:code",component:te},{path:"**",redirectTo:"by-capital"}]}],sn=Ve;export{Ve as countryRoutes,sn as default};
